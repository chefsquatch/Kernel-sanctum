document.getElementById("learnBtn").onclick = async function() {
  let subj = prompt("What subject should I learn?");
  if (!subj) return;
  messages.push({ user: "learn subject: " + subj });
  renderChat();

  try {
    // Await the actual reply from learnSubject
    const reply = await learnSubject(subj);
    messages.push({ kernel: reply });
  } catch (err) {
    messages.push({ kernel: "Oops, something went wrong while learning." });
  }

  renderChat();
};